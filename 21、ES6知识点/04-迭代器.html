<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //   const arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

      //   //迭代器
      //   function arrIteration(arr) {
      //     let index = 0;
      //     console.log(arr);
      //     return {
      //       next: () =>
      //         index > arr.length - 1
      //           ? {
      //               value: undefined,
      //               done: true,
      //             }
      //           : {
      //               value: arr[index++],
      //               done: false,
      //             },
      //     };
      //   }

      //   const arr2 = arrIteration(arr);

      //   console.log(arr2.next());
      //   console.log(arr2.next());
      //   console.log(arr2.next());
      //   console.log(arr2.next());
      //   console.log(arr2.next());

      // 对象迭代器的编写

      const obj = {
        name: "dongCoder",
        age: 18,
        sex: "man",
        [Symbol.iterator]: function () {
          let index = 0;
          const that = this;
          const keys = Object.keys(that);
          const iterator = {
            next: () => {
              if (keys.length - 1 > index) {
                return {
                  value: that[keys[index++]],
                  done: false,
                };
              } else {
                return {
                  value: undefined,
                  done: true,
                };
              }
            },
          };
          return iterator;
        },
      };

      for (let item of obj) {
        console.log(item);
      }
    </script>
  </body>
</html>
